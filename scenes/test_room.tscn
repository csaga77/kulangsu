[gd_scene load_steps=7 format=4 uid="uid://dqivkaosuu5nr"]

[ext_resource type="Script" uid="uid://c8rbadcu5jhno" path="res://buildings/room.gd" id="1_xax08"]
[ext_resource type="TileSet" uid="uid://dn7l7cnmn33jy" path="res://resources/tilesets/mark_tiles.tres" id="2_6qhkh"]
[ext_resource type="Script" uid="uid://ddee7be1iarx6" path="res://common/isometric_block.gd" id="3_nch5g"]
[ext_resource type="TileSet" uid="uid://cioy8ksn0td4" path="res://resources/tilesets/building_tiles_0.tres" id="4_4pynh"]
[ext_resource type="Script" uid="uid://3q62xww2yikq" path="res://common/auto_visibility_node_2d.gd" id="5_gp7je"]
[ext_resource type="TileSet" uid="uid://bgynmgqncncer" path="res://resources/tilesets/buildings/wall_0_tiles.tres" id="5_nch5g"]

[node name="test_room_2" type="Node2D" node_paths=PackedStringArray("physics_layers")]
y_sort_enabled = true
script = ExtResource("1_xax08")
physics_layers = [NodePath("physics_layer")]
smooth_visibility_change = true

[node name="wall_mask" type="TileMapLayer" parent="."]
tile_map_data = PackedByteArray("AAACAP7/AwABAAAAAAABAP7/AwABAAAAAAAAAP7/AwABAAAAAAD///7/AwABAAAAAAD+//7/AwABAAAAAAD+////AwABAAAAAAD+/wAAAwABAAAAAAD+/wEAAwABAAAAAAD+/wIAAwABAAAAAAD9/wEAAwABAAAAAAD9/wAAAwABAAAAAAD9////AwABAAAAAAD9//7/AwABAAAAAAD9//3/AwABAAAAAAD+//3/AwABAAAAAAD///3/AwABAAAAAAAAAP3/AwABAAAAAAABAP3/AwABAAAAAAAAAPz/AwABAAAAAAD///z/AwABAAAAAAD+//z/AwABAAAAAAD9//z/AwABAAAAAAD8//z/AwABAAAAAAD8//3/AwABAAAAAAD8//7/AwABAAAAAAD8////AwABAAAAAAD8/wAAAwABAAAAAAA=")
tile_set = ExtResource("2_6qhkh")
script = ExtResource("3_nch5g")
only_shown_in_editor = true

[node name="floor" type="TileMapLayer" parent="."]
tile_map_data = PackedByteArray("AAABAAEACQAAAAAAAAACAAEACQAAAAAAAAADAAEACQAAAAAAAAADAAIACQAAAAAAAAADAAMACQAAAAAAAAACAAMACQAAAAAAAAABAAMACQAAAAAAAAABAAIACQAAAAAAAAACAAIACQAAAAAAAAAAAAIACQAAAAAAAAACAAAACQAAAAAAAAA=")
tile_set = ExtResource("4_4pynh")
script = ExtResource("3_nch5g")

[node name="external_floor" type="TileMapLayer" parent="."]
tile_map_data = PackedByteArray("AAAAAAAACQAAAAAAAAABAAAACQAAAAAAAAADAAAACQAAAAAAAAAEAAAACQAAAAAAAAAAAAEACQAAAAAAAAAAAAMACQAAAAAAAAAAAAQACQAAAAAAAAABAAQACQAAAAAAAAACAAQACQAAAAAAAAADAAQACQAAAAAAAAAEAAQACQAAAAAAAAAEAAMACQAAAAAAAAAEAAIACQAAAAAAAAAEAAEACQAAAAAAAAA=")
tile_set = ExtResource("4_4pynh")
script = ExtResource("3_nch5g")

[node name="physics_layer" type="TileMapLayer" parent="."]
visible = false
position = Vector2(64, 160)
tile_map_data = PackedByteArray("AAD6//z/CAAAAAcAAAD6//3/CAAAAAQAAAD6////CAAAAAQAAAD6/wAACAAAAAUAAAD7//z/CAAAAAMAAAD7/wAACAAAAAEAAAD8/wAACAAAAAEAAAD9//z/CAAAAAMAAAD9/wAACAAAAAEAAAD+//z/CAAAAAYAAAD+//3/CAAAAAIAAAD+//7/CAAAAAIAAAD+////CAAAAAIAAAD+/wAACAAAAAgAAAA=")
tile_set = ExtResource("2_6qhkh")
script = ExtResource("3_nch5g")
only_shown_in_editor = true

[node name="wall" type="TileMapLayer" parent="."]
y_sort_enabled = true
use_parent_material = true
tile_map_data = PackedByteArray("AAAAAAAAAgAAAAIAAAABAAAAAgAGAAIAAQAAAAEAAgAHAAIAAQAAAAMAAgAFAAIAAQAAAAQAAgALAAIAAgADAAAAAgAEAAIAAQAEAAAAAgAKAAIAAgA=")
tile_set = ExtResource("5_nch5g")
script = ExtResource("3_nch5g")

[node name="base_top" type="TileMapLayer" parent="wall"]
y_sort_enabled = true
tile_map_data = PackedByteArray("AAD/////BQALAAAAAAD//wAABQAOAAAAAQD//wIABQAOAAAAAQAAAP//BQANAAAAAQACAP//BQANAAAAAQADAP//BQAPAAAAAgD//wMABQAQAAAAAgA=")
tile_set = ExtResource("5_nch5g")
y_sort_origin = 32

[node name="base_front" type="TileMapLayer" parent="wall"]
y_sort_enabled = true
use_parent_material = true
tile_map_data = PackedByteArray("AAAAAAQAAQAHAAAAAAAEAAAAAQAIAAAAAAAEAAQAAQAAAAAAAAABAAQAAQAFAAYAAAACAAQAAQAFAAYAAAADAAQAAQAFAAYAAAAEAAMAAQAGAAYAAAAEAAIAAQAGAAYAAAAEAAEAAQAGAAYAAAA=")
tile_set = ExtResource("5_nch5g")

[node name="base_front_top" type="TileMapLayer" parent="wall/base_front"]
y_sort_enabled = true
tile_map_data = PackedByteArray("AAADAAMABAAIAAAAAAD//wMABAAJAAAAAAADAP//BAAKAAAAAAAAAAMABQANAAEAAAABAAMABQANAAEAAAACAAMABQANAAEAAAADAAAABQAOAAEAAAADAAEABQAOAAEAAAADAAIABQAOAAEAAAA=")
tile_set = ExtResource("5_nch5g")
y_sort_origin = 32

[node name="back_wall" type="TileMapLayer" parent="wall" node_paths=PackedStringArray("visibility_mask_layers")]
y_sort_enabled = true
tile_map_data = PackedByteArray("AAD/////AgAAAAAAAAAAAP//AgAGAAAAAQD//wAAAgAHAAAAAQACAP//AgAEAAAAAQADAP//AgAKAAAAAgD//wMAAgALAAAAAgD//wIAAgAFAAAAAQA=")
tile_set = ExtResource("5_nch5g")
y_sort_origin = 32
script = ExtResource("5_gp7je")
visibility_mask_layers = [NodePath("../../wall_mask")]
use_ground_bounding_rect = true
smooth_visibility_change = true

[node name="level_2" type="TileMapLayer" parent="wall/back_wall"]
y_sort_enabled = true
tile_map_data = PackedByteArray("AAD+//7/AgAAAAAAAAD+////AgAHAAAAAQD+/wEAAgAFAAAAAQD+/wIAAgALAAAAAgD///7/AgAGAAAAAQABAP7/AgAEAAAAAQACAP7/AgAKAAAAAgA=")
tile_set = ExtResource("5_nch5g")
y_sort_origin = 64

[node name="level_3" type="TileMapLayer" parent="wall/back_wall"]
y_sort_enabled = true
tile_map_data = PackedByteArray("AAD9//3/AgAAAAAAAAD9//7/AgAFAAAAAQD9/wAAAgAFAAAAAQD9/wEAAgALAAAAAgD+//3/AgAEAAAAAQAAAP3/AgAEAAAAAQABAP3/AgAKAAAAAgD9////AgAFAAAAAQD///3/AgAEAAAAAQA=")
tile_set = ExtResource("5_nch5g")
y_sort_origin = 96

[node name="top" type="TileMapLayer" parent="wall/back_wall"]
y_sort_enabled = true
tile_map_data = PackedByteArray("AAD8//z/BQALAAAAAAD9//z/BQANAAAAAQD+//z/BQANAAAAAQD///z/BQANAAAAAQD8//3/BQAOAAAAAQD8//7/BQAOAAAAAQD8////BQAOAAAAAQD8/wAABQAQAAAAAgAAAPz/BQAPAAAAAgA=")
tile_set = ExtResource("5_nch5g")
y_sort_origin = 128

[node name="front_wall" type="TileMapLayer" parent="wall" node_paths=PackedStringArray("visibility_mask_layers")]
y_sort_enabled = true
tile_map_data = PackedByteArray("AAD//wMAAQAHAAAAAAADAP//AQAIAAAAAAADAAMAAQAAAAAAAAAAAAMAAgAKAAQAAwACAAMAAgAIAAQAAAADAAIAAgAJAAQAAAADAAAAAgALAAQAAwA=")
tile_set = ExtResource("5_nch5g")
y_sort_origin = 32
script = ExtResource("5_gp7je")
visibility_mask_layers = [NodePath("../../floor"), NodePath("../../wall_mask")]
use_ground_bounding_rect = true
smooth_visibility_change = true

[node name="front_level_2" type="TileMapLayer" parent="wall/front_wall"]
y_sort_enabled = true
tile_map_data = PackedByteArray("AAD+/wIAAQAHAAAAAAD//wIAAgAKAAQAAwABAAIAAgAIAAQAAAACAP7/AQAIAAAAAAACAP//AgALAAQAAwACAAEAAgAJAAQAAAACAAIAAQAAAAAAAAA=")
tile_set = ExtResource("5_nch5g")
y_sort_origin = 64

[node name="front_level_3" type="TileMapLayer" parent="wall/front_wall"]
y_sort_enabled = true
tile_map_data = PackedByteArray("AAD9/wEAAQAHAAAAAAD+/wEAAQAFAAQAAAAAAAEAAQAFAAQAAAABAP3/AQAIAAAAAAABAP7/AQAGAAQAAAABAAAAAQAGAAQAAAABAAEAAQAAAAAAAAD//wEAAQAFAAQAAAABAP//AQAGAAQAAAA=")
tile_set = ExtResource("5_nch5g")
y_sort_origin = 96

[node name="top" type="TileMapLayer" parent="wall/front_wall"]
y_sort_enabled = true
tile_map_data = PackedByteArray("AAD8/wAABAAJAAAAAAAAAPz/BAAKAAAAAAAAAP3/BQAOAAEAAAAAAP7/BQAOAAEAAAAAAP//BQAOAAEAAAD9/wAABQANAAEAAAD+/wAABQANAAEAAAD//wAABQANAAEAAAAAAAAABAAIAAAAAAA=")
tile_set = ExtResource("5_nch5g")
y_sort_origin = 128
