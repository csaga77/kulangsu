[gd_scene load_steps=8 format=4 uid="uid://dqivkaosuu5nr"]

[ext_resource type="Script" uid="uid://c8rbadcu5jhno" path="res://buildings/room.gd" id="1_xax08"]
[ext_resource type="TileSet" uid="uid://dn7l7cnmn33jy" path="res://resources/tilesets/mark_tiles.tres" id="2_6qhkh"]
[ext_resource type="Script" uid="uid://ddee7be1iarx6" path="res://common/isometric_block.gd" id="3_nch5g"]
[ext_resource type="TileSet" uid="uid://cioy8ksn0td4" path="res://resources/tilesets/building_tiles_0.tres" id="4_4pynh"]
[ext_resource type="TileSet" uid="uid://bx8awyqypf1wf" path="res://resources/tilesets/building_tiles_1.tres" id="5_6qhkh"]
[ext_resource type="Script" uid="uid://3q62xww2yikq" path="res://common/auto_visibility_node_2d.gd" id="5_gp7je"]
[ext_resource type="TileSet" uid="uid://bgynmgqncncer" path="res://resources/tilesets/buildings/building_0_tiles.tres" id="5_nch5g"]

[node name="TestRoom2" type="Node2D"]
y_sort_enabled = true
script = ExtResource("1_xax08")

[node name="wall_mask" type="TileMapLayer" parent="."]
tile_map_data = PackedByteArray("AAACAP7/AwABAAAAAAABAP7/AwABAAAAAAAAAP7/AwABAAAAAAD///7/AwABAAAAAAD+//7/AwABAAAAAAD+////AwABAAAAAAD+/wAAAwABAAAAAAD+/wEAAwABAAAAAAD+/wIAAwABAAAAAAD9/wEAAwABAAAAAAD9/wAAAwABAAAAAAD9////AwABAAAAAAD9//7/AwABAAAAAAD9//3/AwABAAAAAAD+//3/AwABAAAAAAD///3/AwABAAAAAAAAAP3/AwABAAAAAAABAP3/AwABAAAAAAAAAPz/AwABAAAAAAD///z/AwABAAAAAAD+//z/AwABAAAAAAD9//z/AwABAAAAAAD8//z/AwABAAAAAAD8//3/AwABAAAAAAD8//7/AwABAAAAAAD8////AwABAAAAAAD8/wAAAwABAAAAAAA=")
tile_set = ExtResource("2_6qhkh")
script = ExtResource("3_nch5g")
only_shown_in_editor = true

[node name="floor" type="TileMapLayer" parent="."]
tile_map_data = PackedByteArray("AAABAAEACQAAAAAAAAACAAEACQAAAAAAAAADAAEACQAAAAAAAAADAAIACQAAAAAAAAADAAMACQAAAAAAAAACAAMACQAAAAAAAAABAAMACQAAAAAAAAABAAIACQAAAAAAAAACAAIACQAAAAAAAAAAAAIACQAAAAAAAAACAAAACQAAAAAAAAA=")
tile_set = ExtResource("4_4pynh")
script = ExtResource("3_nch5g")

[node name="external_floor" type="TileMapLayer" parent="."]
tile_map_data = PackedByteArray("AAAAAAAACQAAAAAAAAABAAAACQAAAAAAAAADAAAACQAAAAAAAAAEAAAACQAAAAAAAAAAAAEACQAAAAAAAAAAAAMACQAAAAAAAAAAAAQACQAAAAAAAAABAAQACQAAAAAAAAACAAQACQAAAAAAAAADAAQACQAAAAAAAAAEAAQACQAAAAAAAAAEAAMACQAAAAAAAAAEAAIACQAAAAAAAAAEAAEACQAAAAAAAAA=")
tile_set = ExtResource("4_4pynh")
script = ExtResource("3_nch5g")

[node name="physics_layer" type="TileMapLayer" parent="."]
visible = false
position = Vector2(64, 160)
tile_map_data = PackedByteArray("AAD6//z/CAAAAAcAAAD6//3/CAAAAAQAAAD6////CAAAAAQAAAD6/wAACAAAAAUAAAD7//z/CAAAAAMAAAD7/wAACAAAAAEAAAD8/wAACAAAAAEAAAD9//z/CAAAAAMAAAD9/wAACAAAAAEAAAD+//z/CAAAAAYAAAD+//3/CAAAAAIAAAD+//7/CAAAAAIAAAD+////CAAAAAIAAAD+/wAACAAAAAgAAAA=")
tile_set = ExtResource("2_6qhkh")
script = ExtResource("3_nch5g")
only_shown_in_editor = true

[node name="back_wall" type="TileMapLayer" parent="."]
y_sort_enabled = true
use_parent_material = true
tile_map_data = PackedByteArray("AAAAAAAAAAASAAMAAAAAAAEAAAARAAMAAQAAAAMAAAADAAMAAQABAAAAAAAQAAMAAQADAAAAAAACAAMAAQAEAAAAAAAMAAMAAgAAAAQAAAANAAMAAgAGAAAAAQAFAAAAAQAFAAAAAQABAAAAAAAFAAEAAQAGAAAAAQAHAAAAAQAHAAAAAQAFAAIAAQAIAAAAAQAHAAIAAQAJAAAAAQAJAAIAAQAJAAAAAgAJAAEAAQAJAAAAAwAKAAIAAQAJAAAAAAA=")
tile_set = ExtResource("5_nch5g")
script = ExtResource("3_nch5g")

[node name="TileMapLayer" type="TileMapLayer" parent="back_wall"]
y_sort_enabled = true
tile_map_data = PackedByteArray("AAAAAAQAAAABAAEAAQAEAAAAAAABAAEAAgA=")
tile_set = ExtResource("5_6qhkh")

[node name="TileMapLayer2" type="TileMapLayer" parent="back_wall/TileMapLayer"]
y_sort_enabled = true
tile_map_data = PackedByteArray("AAADAP//AAABAAAAAgD//wMAAAABAAAAAQA=")
tile_set = ExtResource("5_6qhkh")
y_sort_origin = 32

[node name="level_1" type="TileMapLayer" parent="back_wall" node_paths=PackedStringArray("visibility_mask_layers")]
visible = false
y_sort_enabled = true
use_parent_material = true
tile_map_data = PackedByteArray("AAD/////AAASAAEAAAD//wAAAAARAAEAAQD//wIAAAADAAEAAQD//wMAAAANAAEAAwAAAP//AAAQAAEAAQACAP//AAACAAEAAQADAP//AAAMAAEAAgA=")
tile_set = ExtResource("5_nch5g")
y_sort_origin = 32
script = ExtResource("5_gp7je")
visibility_mask_layers = [NodePath("../../wall_mask")]
use_ground_bounding_rect = true
smooth_visibility_change = true

[node name="level_2" type="TileMapLayer" parent="back_wall/level_1"]
y_sort_enabled = true
use_parent_material = true
tile_map_data = PackedByteArray("AAD+//7/AAASAAEAAAD+////AAARAAEAAQD+/wEAAAADAAEAAQD+/wIAAAANAAEAAwD///7/AAAQAAEAAQABAP7/AAACAAEAAQACAP7/AAAMAAEAAgA=")
tile_set = ExtResource("5_6qhkh")
y_sort_origin = 64
script = ExtResource("3_nch5g")

[node name="level_3" type="TileMapLayer" parent="back_wall/level_1/level_2"]
y_sort_enabled = true
use_parent_material = true
tile_map_data = PackedByteArray("AAD9//3/AAASAAEAAAD9//7/AAADAAEAAQD9/wAAAAADAAEAAQD9/wEAAAANAAEAAwD+//3/AAACAAEAAQAAAP3/AAACAAEAAQABAP3/AAAMAAEAAgD9////AAADAAEAAQD///3/AAACAAEAAQA=")
tile_set = ExtResource("5_6qhkh")
y_sort_origin = 96
script = ExtResource("3_nch5g")

[node name="level_4" type="TileMapLayer" parent="back_wall/level_1/level_2/level_3"]
tile_map_data = PackedByteArray("AAAAAPz/AAAMAAAAAgD8/wAAAAANAAAAAgD8////AAAPAAAAAQD8//7/AAAPAAAAAQD8//3/AAAPAAAAAQD9//z/AAAOAAAAAQD+//z/AAAOAAAAAQD///z/AAAOAAAAAQD8//z/AAASAAAAAAA=")
tile_set = ExtResource("5_6qhkh")
y_sort_origin = 128

[node name="TileMapLayer2" type="TileMapLayer" parent="back_wall/level_1"]
position = Vector2(-96, 80)
tile_map_data = PackedByteArray("AAD8//3/AAABAAEAAQD9//7/AAABAAEAAQD+////AAABAAEAAQAAAPn/AAABAAEAAgABAPr/AAABAAEAAgACAPv/AAABAAEAAgD///j/AAABAAAAAgD7//z/AAABAAAAAQA=")
tile_set = ExtResource("5_6qhkh")
script = ExtResource("3_nch5g")

[node name="front_wall" type="TileMapLayer" parent="."]
visible = false
y_sort_enabled = true
use_parent_material = true
tile_map_data = PackedByteArray("AAAAAAQACgABAAAAAAAEAAAACgABAAAAAAAEAAQACgAHAAAAAAABAAQACgAMABQAAAACAAQACgAMABQAAAADAAQACgAMABQAAAAEAAMACgANABQAAAAEAAIACgANABQAAAAEAAEACgANABQAAAA=")
tile_set = ExtResource("4_4pynh")
script = ExtResource("5_gp7je")
use_ground_bounding_rect = true

[node name="level_1" type="TileMapLayer" parent="front_wall" node_paths=PackedStringArray("visibility_mask_layers")]
y_sort_enabled = true
use_parent_material = true
tile_map_data = PackedByteArray("AAD//wMACgABAAAAAAACAAMACgAKAAwAAAADAP//CgABAAAAAAADAAAACgALAAwAAgADAAIACgALAAwAAAADAAMACgAHAAAAAAAAAAMACgAKAAwAAgA=")
tile_set = ExtResource("4_4pynh")
y_sort_origin = 32
script = ExtResource("5_gp7je")
visibility_mask_layers = [NodePath("../../floor"), NodePath("../../wall_mask")]
use_ground_bounding_rect = true
smooth_visibility_change = true

[node name="level_2" type="TileMapLayer" parent="front_wall/level_1"]
y_sort_enabled = true
use_parent_material = true
tile_map_data = PackedByteArray("AAD+/wIACgABAAAAAAD//wIACgAKAAwAAgABAAIACgAKAAwAAAACAP7/CgABAAAAAAACAP//CgALAAwAAgACAAEACgALAAwAAAACAAIACgAHAAAAAAA=")
tile_set = ExtResource("4_4pynh")
y_sort_origin = 64
script = ExtResource("3_nch5g")

[node name="level_3" type="TileMapLayer" parent="front_wall/level_1/level_2"]
y_sort_enabled = true
use_parent_material = true
tile_map_data = PackedByteArray("AAD9/wEACgABAAAAAAD+/wEACgAMAAwAAAAAAAEACgAMAAwAAAABAP3/CgABAAAAAAABAP7/CgANAAwAAAABAAAACgANAAwAAAABAAEACgAHAAAAAAD//wEACgAMAAwAAAABAP//CgANAAwAAAA=")
tile_set = ExtResource("4_4pynh")
y_sort_origin = 96
script = ExtResource("3_nch5g")
