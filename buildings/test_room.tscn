[gd_scene load_steps=6 format=4 uid="uid://b27c76jsv3pop"]

[ext_resource type="Script" uid="uid://ddee7be1iarx6" path="res://common/isometric_block.gd" id="1_moosy"]
[ext_resource type="Script" uid="uid://c8rbadcu5jhno" path="res://buildings/room.gd" id="1_riyu3"]
[ext_resource type="TileSet" uid="uid://dn7l7cnmn33jy" path="res://resources/tilesets/mark_tiles.tres" id="2_fooa2"]
[ext_resource type="TileSet" uid="uid://cioy8ksn0td4" path="res://resources/tilesets/building_tiles_0.tres" id="2_mnvgh"]
[ext_resource type="Script" uid="uid://3q62xww2yikq" path="res://common/auto_visibility_node_2d.gd" id="6_riyu3"]

[node name="TestRoom" type="Node2D"]
y_sort_enabled = true
script = ExtResource("1_riyu3")

[node name="wall_mask" type="TileMapLayer" parent="."]
tile_map_data = PackedByteArray("AAACAP7/AwABAAAAAAABAP7/AwABAAAAAAAAAP7/AwABAAAAAAD///7/AwABAAAAAAD+//7/AwABAAAAAAD+////AwABAAAAAAD+/wAAAwABAAAAAAD+/wEAAwABAAAAAAD+/wIAAwABAAAAAAD9/wEAAwABAAAAAAD9/wAAAwABAAAAAAD9////AwABAAAAAAD9//7/AwABAAAAAAD9//3/AwABAAAAAAD+//3/AwABAAAAAAD///3/AwABAAAAAAAAAP3/AwABAAAAAAABAP3/AwABAAAAAAAAAPz/AwABAAAAAAD///z/AwABAAAAAAD+//z/AwABAAAAAAD9//z/AwABAAAAAAD8//z/AwABAAAAAAD8//3/AwABAAAAAAD8//7/AwABAAAAAAD8////AwABAAAAAAD8/wAAAwABAAAAAAA=")
tile_set = ExtResource("2_fooa2")
script = ExtResource("1_moosy")
only_shown_in_editor = true

[node name="floor" type="TileMapLayer" parent="."]
tile_map_data = PackedByteArray("AAABAAEACQAAAAAAAAACAAEACQAAAAAAAAADAAEACQAAAAAAAAADAAIACQAAAAAAAAADAAMACQAAAAAAAAACAAMACQAAAAAAAAABAAMACQAAAAAAAAABAAIACQAAAAAAAAACAAIACQAAAAAAAAAAAAIACQAAAAAAAAACAAAACQAAAAAAAAA=")
tile_set = ExtResource("2_mnvgh")
script = ExtResource("1_moosy")

[node name="external_floor" type="TileMapLayer" parent="."]
tile_map_data = PackedByteArray("AAAAAAAACQAAAAAAAAABAAAACQAAAAAAAAADAAAACQAAAAAAAAAEAAAACQAAAAAAAAAAAAEACQAAAAAAAAAAAAMACQAAAAAAAAAAAAQACQAAAAAAAAABAAQACQAAAAAAAAACAAQACQAAAAAAAAADAAQACQAAAAAAAAAEAAQACQAAAAAAAAAEAAMACQAAAAAAAAAEAAIACQAAAAAAAAAEAAEACQAAAAAAAAA=")
tile_set = ExtResource("2_mnvgh")
script = ExtResource("1_moosy")

[node name="physics_layer" type="TileMapLayer" parent="."]
position = Vector2(64, 160)
tile_map_data = PackedByteArray("AAD6//z/CAAAAAcAAAD6//3/CAAAAAQAAAD6////CAAAAAQAAAD6/wAACAAAAAUAAAD7//z/CAAAAAMAAAD7/wAACAAAAAEAAAD8/wAACAAAAAEAAAD9//z/CAAAAAMAAAD9/wAACAAAAAEAAAD+//z/CAAAAAYAAAD+//3/CAAAAAIAAAD+//7/CAAAAAIAAAD+////CAAAAAIAAAD+/wAACAAAAAgAAAA=")
tile_set = ExtResource("2_fooa2")
script = ExtResource("1_moosy")
only_shown_in_editor = true

[node name="back_wall" type="TileMapLayer" parent="."]
y_sort_enabled = true
use_parent_material = true
tile_map_data = PackedByteArray("AAAAAAAACgARAB4AAAAAAAEACgANAB4AAQAAAAMACgANAB4AAQABAAAACgAMAB4AAQADAAAACgAMAB4AAQAEAAAACgACAAAAAQAAAAQACgADAAAAAQA=")
tile_set = ExtResource("2_mnvgh")
script = ExtResource("6_riyu3")
use_ground_bounding_rect = true

[node name="level_1" type="TileMapLayer" parent="back_wall" node_paths=PackedStringArray("visibility_mask_layers")]
y_sort_enabled = true
use_parent_material = true
tile_map_data = PackedByteArray("AAD/////CgARAAAAAAD//wAACgANAAAAAQD//wIACgANAAAAAQD//wMACgADAAAAAQAAAP//CgAMAAAAAQACAP//CgAMAAAAAQADAP//CgACAAAAAQA=")
tile_set = ExtResource("2_mnvgh")
y_sort_origin = 32
script = ExtResource("6_riyu3")
visibility_mask_layers = [NodePath("../../wall_mask")]
use_ground_bounding_rect = true

[node name="level_2" type="TileMapLayer" parent="back_wall/level_1"]
y_sort_enabled = true
use_parent_material = true
tile_map_data = PackedByteArray("AAD+//7/CgARAAAAAAD+////CgANAAAAAQD+/wEACgANAAAAAQD+/wIACgADAAAAAQD///7/CgAMAAAAAQABAP7/CgAMAAAAAQACAP7/CgACAAAAAQA=")
tile_set = ExtResource("2_mnvgh")
y_sort_origin = 64
script = ExtResource("1_moosy")

[node name="level_3" type="TileMapLayer" parent="back_wall/level_1/level_2"]
y_sort_enabled = true
use_parent_material = true
tile_map_data = PackedByteArray("AAD9//3/CgARAAAAAAD9//7/CgANAAAAAQD9/wAACgANAAAAAQD9/wEACgADAAAAAQD+//3/CgAMAAAAAQAAAP3/CgAMAAAAAQABAP3/CgACAAAAAQD9////CgANAAAAAQD///3/CgAMAAAAAQA=")
tile_set = ExtResource("2_mnvgh")
y_sort_origin = 96
script = ExtResource("1_moosy")

[node name="front_wall" type="TileMapLayer" parent="."]
y_sort_enabled = true
use_parent_material = true
tile_map_data = PackedByteArray("AAAAAAQACgABAAAAAAAEAAAACgABAAAAAAAEAAQACgAHAAAAAAABAAQACgAMABQAAAACAAQACgAMABQAAAADAAQACgAMABQAAAAEAAMACgANABQAAAAEAAIACgANABQAAAAEAAEACgANABQAAAA=")
tile_set = ExtResource("2_mnvgh")
script = ExtResource("6_riyu3")
use_ground_bounding_rect = true

[node name="level_1" type="TileMapLayer" parent="front_wall" node_paths=PackedStringArray("visibility_mask_layers")]
y_sort_enabled = true
use_parent_material = true
tile_map_data = PackedByteArray("AAD//wMACgABAAAAAAACAAMACgAKAAwAAAADAP//CgABAAAAAAADAAAACgALAAwAAgADAAIACgALAAwAAAADAAMACgAHAAAAAAAAAAMACgAKAAwAAgA=")
tile_set = ExtResource("2_mnvgh")
y_sort_origin = 32
script = ExtResource("6_riyu3")
visibility_mask_layers = [NodePath("../../floor"), NodePath("../../wall_mask"), NodePath("../../external_floor")]
use_ground_bounding_rect = true

[node name="level_2" type="TileMapLayer" parent="front_wall/level_1"]
y_sort_enabled = true
use_parent_material = true
tile_map_data = PackedByteArray("AAD+/wIACgABAAAAAAD//wIACgAKAAwAAgABAAIACgAKAAwAAAACAP7/CgABAAAAAAACAP//CgALAAwAAgACAAEACgALAAwAAAACAAIACgAHAAAAAAA=")
tile_set = ExtResource("2_mnvgh")
y_sort_origin = 64
script = ExtResource("1_moosy")

[node name="level_3" type="TileMapLayer" parent="front_wall/level_1/level_2"]
y_sort_enabled = true
use_parent_material = true
tile_map_data = PackedByteArray("AAD9/wEACgABAAAAAAD+/wEACgAMAAwAAAAAAAEACgAMAAwAAAABAP3/CgABAAAAAAABAP7/CgANAAwAAAABAAAACgANAAwAAAABAAEACgAHAAAAAAD//wEACgAMAAwAAAABAP//CgANAAwAAAA=")
tile_set = ExtResource("2_mnvgh")
y_sort_origin = 96
script = ExtResource("1_moosy")
